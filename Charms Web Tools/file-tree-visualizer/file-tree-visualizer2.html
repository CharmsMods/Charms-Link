<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Folder Tree Visualizer</title><script src="https://cdn.tailwindcss.com"></script><style>@import url(https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap);body{font-family:Inter,sans-serif;background-color:#f3f4f6;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;padding:2rem;box-sizing:border-box}.container{background-color:#fff;border-radius:1rem;box-shadow:0 10px 25px rgba(0,0,0,.1);padding:2rem;width:100%;max-width:900px}.file-input-wrapper input[type=file]{opacity:0;position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap}.file-tree-item{@apply flex items-center py-1 px-2 my-0.5 rounded-md;}.file-tree-item:hover{background-color:#e5e7eb}.file-tree-item.folder{cursor:pointer}.file-tree-item.file{@apply text-gray-700;}.file-icon{@apply mr-2 text-lg;}.folder-icon{@apply text-yellow-500;}.file-icon-default{@apply text-blue-500;}.loading-spinner{border:4px solid #f3f3f3;border-top:4px solid #3b82f6;border-radius:50%;width:30px;height:30px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.folder-content.collapsed{display:none}</style></head><body><div class="container"><h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Folder Tree Visualizer</h1><label for="folder-upload" class="file-input-wrapper"><svg class="w-12 h-12 text-gray-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7m-18 0A2 2 0 015 5h14a2 2 0 012 2m-18 0v10a2 2 0 002 2h14a2 2 0 002-2V7m-18 0L9 5h6l6 2"></path></svg> <span class="text-gray-600 text-lg">Click to select a folder</span> <input type="file" id="folder-upload" webkitdirectory directory multiple="multiple"></label><div id="loading-indicator" class="hidden flex justify-center items-center py-4"><div class="loading-spinner"></div><p class="ml-3 text-gray-600">Processing folder...</p></div><div class="mb-6"><input type="text" id="search-input" placeholder="Search files and folders..." class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" disabled="disabled"></div><div id="file-tree-display" class="mt-8"><p class="text-gray-500 text-center" id="initial-message">Select a folder to see its structure.</p></div><div id="message-box" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-lg shadow-xl p-6 max-w-sm w-full text-center"><h3 class="text-xl font-semibold text-gray-800 mb-4" id="message-title"></h3><p class="text-gray-700 mb-6" id="message-content"></p><button id="message-box-close" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200">OK</button></div></div></div><script>document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("folder-upload"),t=document.getElementById("file-tree-display"),n=document.getElementById("loading-indicator"),l=document.getElementById("initial-message"),d=document.getElementById("search-input"),i=document.getElementById("message-box"),s=document.getElementById("message-title"),a=document.getElementById("message-content"),c=document.getElementById("message-box-close");let o=null;function r(e,t){s.textContent=e,a.textContent=t,i.classList.remove("hidden")}function p(e){e.isExpanded=!0,e.isVisible=!0,e.children&&e.children.forEach(e=>p(e))}function f(e,t,n){if(n&&!e.isVisible)return;if(0===e.level&&"folder"===e.type&&e.children){const l=document.createElement("div");l.classList.add("pl-2"),t.appendChild(l);const d=document.createElement("div");d.classList.add("file-tree-item","folder"),d.style.paddingLeft=20*e.level+"px";const i=document.createElement("span");i.classList.add("file-icon","text-gray-500"),i.textContent=e.isExpanded?"▼":"►",d.appendChild(i);const s=document.createElement("span");s.classList.add("file-icon","folder-icon"),s.innerHTML="&#128447;",d.appendChild(s);const a=document.createElement("span");a.textContent=e.name,n&&e.fullPath&&(a.textContent=`${e.name} (${e.fullPath.endsWith("/")?e.fullPath.slice(0,-1):e.fullPath})`),d.appendChild(a),l.appendChild(d);const c=document.createElement("div");return c.classList.add("folder-content"),e.isExpanded||c.classList.add("collapsed"),l.appendChild(c),n||d.addEventListener("click",()=>{e.isExpanded=!e.isExpanded,c.classList.toggle("collapsed",!e.isExpanded),i.textContent=e.isExpanded?"▼":"►"}),void(e.children&&e.children.forEach(e=>f(e,c,n)))}const l=document.createElement("div");if(l.classList.add("file-tree-item"),l.style.paddingLeft=20*e.level+"px","folder"===e.type){l.classList.add("folder"),l.setAttribute("data-path",e.fullPath);const d=document.createElement("span");d.classList.add("file-icon","text-gray-500"),d.textContent=e.isExpanded?"▼":"►",l.appendChild(d);const i=document.createElement("span");i.classList.add("file-icon","folder-icon"),i.innerHTML="&#128447;",l.appendChild(i);const s=document.createElement("span");s.textContent=e.name,n&&e.fullPath&&(s.textContent=`${e.name} (${e.fullPath.endsWith("/")?e.fullPath.slice(0,-1):e.fullPath})`),l.appendChild(s),t.appendChild(l);const a=document.createElement("div");a.classList.add("folder-content"),e.isExpanded||a.classList.add("collapsed"),t.appendChild(a),n||l.addEventListener("click",()=>{e.isExpanded=!e.isExpanded,a.classList.toggle("collapsed",!e.isExpanded),d.textContent=e.isExpanded?"▼":"►"}),e.children&&e.children.forEach(e=>f(e,a,n))}else{l.classList.add("file"),l.setAttribute("data-path",e.fullPath);const d=document.createElement("span");d.classList.add("file-icon"),d.textContent=" ",l.appendChild(d);const i=document.createElement("span");i.classList.add("file-icon","file-icon-default"),i.innerHTML="&#128196;",l.appendChild(i);const s=document.createElement("span");s.textContent=e.name,n&&e.fullPath&&(s.textContent=`${e.name} (${e.fullPath})`),l.appendChild(s),t.appendChild(l)}}c.addEventListener("click",()=>{i.classList.add("hidden")}),e.addEventListener("change",async e=>{const i=e.target.files;if(0===i.length)return r("No Folder Selected","Please select a folder to visualize its contents."),void(o&&(d.disabled=!1));t.innerHTML="",l.classList.add("hidden"),n.classList.remove("hidden"),d.value="",d.disabled=!0,setTimeout(()=>{try{o=function(e){let t="Uploaded Folder",n="";if(e.length>0&&e[0].webkitRelativePath){const l=e[0].webkitRelativePath.split("/");l.length>0&&(t=l[0],n=l[0]+"/")}const l={name:t,type:"folder",children:[],isExpanded:!0,level:0,fullPath:t+"/",isVisible:!0};for(const d of e){const e=(d.webkitRelativePath.startsWith(n)?d.webkitRelativePath.substring(n.length):d.webkitRelativePath).split("/").filter(e=>""!==e);let i=l.children,s=t+"/";for(let t=0;t<e.length;t++){const n=e[t];let a=i.find(e=>e.name===n);a||(a=t===e.length-1?{name:n,type:"file",size:d.size,lastModified:d.lastModified,fullPath:s+n,level:l.level+1+t,isVisible:!0}:{name:n,type:"folder",children:[],isExpanded:!0,fullPath:s+n+"/",level:l.level+1+t,isVisible:!0},i.push(a),i.sort((e,t)=>"folder"===e.type&&"file"===t.type?-1:"file"===e.type&&"folder"===t.type?1:e.name.localeCompare(t.name))),"folder"===a.type&&(i=a.children,s=a.fullPath)}}return l}(i),f(o,t,!1),d.disabled=!1}catch(e){console.error("Error processing folder:",e),r("Error","An error occurred while processing the folder. Please try again.")}finally{n.classList.add("hidden")}},50)}),d.addEventListener("input",()=>{!function(e){if(t.innerHTML="",l.classList.add("hidden"),!o)return;if(""===e.trim())return p(o),void f(o,t,!1);const n=e.toLowerCase(),d=JSON.parse(JSON.stringify(o));function i(e){let t=!1;(e.name.toLowerCase().includes(n)||e.fullPath&&e.fullPath.toLowerCase().includes(n))&&(t=!0);let l=!1;if(e.children&&e.children.length>0)for(const t of e.children)i(t)&&(l=!0);return e.isVisible=t||l,e.isVisible?e.isExpanded=!0:e.isExpanded=!1,e.isVisible}i(d),f(d,t,!0)}(d.value)})})</script></body></html>